<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Real-time collaborative 50√ó50 pixel canvas on Kubernetes"
    />
    <title>Cloud Pixel Playground</title>
    <link rel="stylesheet" href="/css/styles.css" />
  </head>
  <body>
    <div class="header">
      <h1>‚òÅÔ∏è Cloud Pixel Playground</h1>
      <p>Collaborative 50√ó50 Pixel Canvas</p>
    </div>

    <div class="container">
      <div class="status-bar">
        <div class="status-item">
          <div class="status-indicator" id="statusIndicator"></div>
          <span id="statusText">Connecting...</span>
        </div>
        <div class="status-item">
          <span
            >üë• <strong><span id="userCount">0</span></strong> users
            online</span
          >
        </div>
      </div>

      <div id="errorContainer"></div>

      <!-- Active Users Panel -->
      <div class="active-users-panel">
        <h3>üé® Active Artists</h3>
        <div id="activeUsersList" class="users-list">
          <!-- Users will be dynamically added here -->
        </div>
      </div>

      <div class="controls">
        <div class="color-picker">
          <label for="colorPicker"><strong>Color:</strong></label>
          <input type="color" id="colorPicker" value="#FF0000" />
        </div>

        <div class="preset-colors">
          <div
            class="preset-color"
            style="background: #ff0000"
            data-color="#FF0000"
            title="Red"
          ></div>
          <div
            class="preset-color"
            style="background: #00ff00"
            data-color="#00FF00"
            title="Green"
          ></div>
          <div
            class="preset-color"
            style="background: #0000ff"
            data-color="#0000FF"
            title="Blue"
          ></div>
          <div
            class="preset-color"
            style="background: #ffff00"
            data-color="#FFFF00"
            title="Yellow"
          ></div>
          <div
            class="preset-color"
            style="background: #ff00ff"
            data-color="#FF00FF"
            title="Magenta"
          ></div>
          <div
            class="preset-color"
            style="background: #00ffff"
            data-color="#00FFFF"
            title="Cyan"
          ></div>
          <div
            class="preset-color"
            style="background: #000000"
            data-color="#000000"
            title="Black"
          ></div>
          <div
            class="preset-color"
            style="background: #ffffff"
            data-color="#FFFFFF"
            title="White"
          ></div>
        </div>

        <button class="button" id="editUsernameBtn">
          ‚úèÔ∏è Edit Username
        </button>

        <button class="button secondary" onclick="clearCanvas()">
          Clear Canvas
        </button>
      </div>

      <div class="canvas-container">
        <canvas id="canvas" width="500" height="500"></canvas>
      </div>

      <div class="info">
        <p>
          Click on pixels to draw! Your changes are instantly shared with all
          users.
        </p>
        <p>
          <strong>Canvas:</strong> 50√ó50 pixels |
          <strong>Deployed:</strong> Kubernetes Microservices
        </p>
      </div>
    </div>

    <!-- Load configuration first -->
    <script src="/config.js"></script>

    <!-- Load application modules -->
    <script type="module" src="/js/app.js"></script>
  </body>
</html>
